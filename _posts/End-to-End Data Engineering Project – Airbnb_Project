---

title: "End-to-End Data Engineering Project â€“ Airbnb_Project"
date: 2025-01-12
categories: [Data Engineering, Cloud, Snowflake, AWS]
tags: [Data Engineering, Snowflake, AWS, S3, dbt, SQL, Python, Analytics Engineering]

---

---

##  Contexto del proyectoğŸ¨
![Airbnb End-to-End](/assets/images/Airbnb_portada.png)

Antes de escribir una sola lÃ­nea de cÃ³digo, el primer paso fue **entender el negocio de Airbnb desde la perspectiva de datos**.

Airbnb opera a escala global, con millones de **listings**, **hosts** y **reservas**, lo que genera **volÃºmenes masivos de datos histÃ³ricos y transaccionales**.  
Para este escenario, estimÃ© un crecimiento aproximado de **~5 TB de datos**, considerando:

- Historial de reservas (bookings)
- InformaciÃ³n de hosts
- Detalle de propiedades (listings)
- Cambios histÃ³ricos y datos incrementales

El reto no era solo almacenar datos, sino **transformarlos en informaciÃ³n confiable, escalable y reutilizable** para analÃ­tica y machine learning.

---

## ğŸ¯ Problema de negocio

En un contexto como Airbnb, los equipos suelen enfrentarse a problemas como:

- Datos provenientes de **mÃºltiples fuentes** (CSV, SQL, APIs)
- Inconsistencias en fechas, IDs y relaciones entre entidades
- Dificultad para escalar consultas analÃ­ticas sobre grandes volÃºmenes
- Falta de un **modelo de datos claro** para analistas y cientÃ­ficos de datos
- Dependencia excesiva de tablas crudas sin reglas de negocio definidas

ğŸ‘‰ **Objetivo del proyecto**  
DiseÃ±ar un **pipeline end-to-end de Data Engineering** que permita transformar datos crudos de Airbnb en **datasets analÃ­ticos confiables**, listos para consumo en **Power BI** o por equipos de **Machine Learning**.

---

## ğŸ—ï¸ Arquitectura utilizada

![Airbnb End-to-End](/assets/images/Airbnb.png)

La soluciÃ³n se diseÃ±Ã³ bajo una arquitectura **Lakehouse + Analytics Engineering**, separando claramente almacenamiento, procesamiento y consumo.

### Arquitectura general

- **Amazon S3** â†’ Data Lake / Source of Truth  
- **Snowflake** â†’ Motor analÃ­tico y Data Warehouse  
- **dbt** â†’ Transformaciones, reglas de negocio y modelado analÃ­tico  
- **Antigravity** â†’ EstructuraciÃ³n y estandarizaciÃ³n del proyecto dbt  

Esta arquitectura permite:
- Escalar a grandes volÃºmenes de datos
- Separar cÃ³mputo y almacenamiento
- Mantener trazabilidad y control de calidad

---

## ğŸ§° Stack tecnolÃ³gico

- **Amazon S3** â†’ Almacenamiento de datos crudos (Lakehouse)
- **Snowflake** â†’ Data Warehouse analÃ­tico
- **dbt (Data Build Tool)** â†’ Transformaciones y modelado
- **Antigravity** â†’ OrganizaciÃ³n del proyecto dbt
- **SQL** â†’ Transformaciones y lÃ³gica de negocio
- **Git / GitHub** â†’ Versionamiento y documentaciÃ³n
- **Power BI / ML-ready datasets** â†’ Capa de consumo

---

## ğŸ”„ Flujo de datos end-to-end
![Airbnb End-to-End](/assets/images/AmazonS3A.png)

1. **Ingesta de datos**
   - Los datos crudos de Airbnb (CSV) se almacenan en **Amazon S3**
   - S3 actÃºa como la **fuente Ãºnica de la verdad**

2. **Carga en Snowflake**
   - Snowflake consume los datos desde S3
   - Se almacenan inicialmente sin transformaciones complejas

3. **Transformaciones con dbt**
   - dbt se conecta directamente a Snowflake
   - Todas las reglas de negocio se versionan como cÃ³digo

4. **Capas analÃ­ticas**
   - Se construyen capas progresivas (Bronze â†’ Staging â†’ Marts)

5. **Consumo**
   - Los datos quedan listos para:
     - Dashboards en Power BI
     - Modelos de Machine Learning
     - AnÃ¡lisis exploratorio avanzado

---

## ğŸ§± Capas de datos en Snowflake
![Airbnb End-to-End](/assets/images/Airbnb1.png)


### ğŸŸ¤ Bronze (Raw Layer)
- Datos casi sin transformaciÃ³n
- TipificaciÃ³n bÃ¡sica
- Conserva la estructura original
- Garantiza trazabilidad hacia el origen

Ejemplos:
- `bronze_bookings`
- `bronze_hosts`
- `bronze_listings`

![Airbnb End-to-End](/assets/images/Airbnb2.png)
---

### ğŸ”µ Staging (Clean Layer)
- Limpieza y estandarizaciÃ³n
- NormalizaciÃ³n de nombres
- ConversiÃ³n de tipos de datos
- PreparaciÃ³n para reglas de negocio

Ejemplos:
- `stg_bookings`
- `stg_hosts`
- `stg_listings`

---

### ğŸŸ¡ Marts (Business Layer)
Modelo analÃ­tico orientado al negocio:

#### Dimensiones
- `dim_hosts`
- `dim_listings`

#### Hechos
- `fct_bookings`

DiseÃ±ado bajo **Star Schema**, optimizado para:
- Consultas rÃ¡pidas
- BI
- Machine Learning

---

## ğŸ“ Reglas de negocio implementadas con dbt
![Airbnb End-to-End](/assets/images/Airbnb4.png)

Algunas reglas clave:

- ValidaciÃ³n de claves primarias y forÃ¡neas
- NormalizaciÃ³n de fechas de reserva
- RelaciÃ³n clara entre bookings, hosts y listings
- DefiniciÃ³n de mÃ©tricas reutilizables
- Tests automÃ¡ticos (`not null`, `unique`, `relationships`)

Todo esto queda:
- Versionado
- Documentado
- Reproducible
![Airbnb End-to-End](/assets/images/Airbnb5.png)
---

## ğŸ“Š Escalabilidad de la soluciÃ³n

Esta arquitectura estÃ¡ preparada para crecer:

- **S3** escala prÃ¡cticamente sin lÃ­mite
- **Snowflake** separa almacenamiento y cÃ³mputo
- **dbt** permite mantener reglas de negocio incluso con miles de modelos
- Posibilidad de:
  - Incremental models
  - Particionamiento
  - OptimizaciÃ³n por clusters

Funciona igual para **GBs o TBs de datos**.

---

## âœ… Conclusiones

- Se construyÃ³ un pipeline **end-to-end realista**, alineado a escenarios de Airbnb
- La separaciÃ³n por capas mejora la calidad, gobernanza y escalabilidad
- dbt demostrÃ³ ser clave para **Analytics Engineering**
- El modelo final permite consumo inmediato por BI y ML

---

## ğŸ” ReflexiÃ³n final

Este proyecto demuestra que **Data Engineering no es solo mover datos**, sino:

- Entender el negocio
- DiseÃ±ar arquitecturas escalables
- Modelar datos pensando en quiÃ©n los consume
- Tratar las reglas de negocio como cÃ³digo

Esta misma arquitectura puede adaptarse fÃ¡cilmente a otros dominios como:
- E-commerce
- LogÃ­stica
- Fintech
- Supply Chain

---

ğŸš€ **End-to-End Data Engineering Project â€“ Airbnb**

